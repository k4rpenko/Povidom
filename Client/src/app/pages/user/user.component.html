<div class="app-container">
  
  <div class="main">
    <app-header class="app-header" [url]="'profile'"/>
    
    <div class="user-box">
      <div *ngIf="loadingUser; else userContent" class="user-profile-skeleton">
        <div class="skeleton-avatar shimmer"></div>
        <div class="skeleton-text shimmer" style="width: 150px; height: 20px;"></div>
        <div class="skeleton-text shimmer" style="width: 100px; height: 16px;"></div>
        <div class="skeleton-button shimmer" style="width: 110px; height: 30px;"></div>
        <div class="skeleton-button shimmer" style="width: 330px; height: 30px;"></div>
      </div>
      <ng-template #userContent>
        <ng-container *ngIf="user?.userName; else noUser">
          <div class="user-profile">
            <div class="profile-infoo" >
                <img 
                  [src]="user.avatar || 'https://54hmmo3zqtgtsusj.public.blob.vercel-storage.com/avatar/Logo-yEeh50niFEmvdLeI2KrIUGzMc6VuWd-a48mfVnSsnjXMEaIOnYOTWIBFOJiB2.jpg'"
                  alt="" 
                  class="profile-icon"
                >
                <div class="profile-text">
                  <span class="profile-author">{{ user.firstName }} {{ user.lastName }}</span>
                  <span class="profile-username">{{ user.userName }}</span>
                </div>
                <ng-container *ngIf="You; else anothers">
                  <div class="profile-actions">
                    <div class="btn-settings">
                      <a>Settings Profile</a>
                    </div>
                  </div>
                </ng-container>
                <ng-template #anothers>
                  <div class="profile-actions">
                    <ng-container *ngIf="!user.youFollower; else Unfollow">
                      <button (click)="subscribe(user.userName!)" class="btn-following">Following</button>
                    </ng-container>
                    <ng-template #Unfollow>
                      <button (click)="unsubscribe(user.userName!)" class="btn-unfollow">Unfollow</button>
                    </ng-template>                    
                    <button class="btn-write">Write</button>
                  </div>
                </ng-template>
            </div>
            <div class="user-biography">
              <div class="uset-for" *ngIf="user.title">
                <div class="user-svg">
                  <svg width="20px" height="20px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ffffff">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                    <g id="SVGRepo_iconCarrier">  <title>ic_fluent_app_title_24_filled</title> <desc>Created with Sketch.</desc> <g id="ðŸ”-Product-Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="ic_fluent_app_title_24_filled" fill="#fff" fill-rule="nonzero"> <path d="M4.75,20.5 L19.25,20.5 C19.6642136,20.5 20,20.8357864 20,21.25 C20,21.6296958 19.7178461,21.943491 19.3517706,21.9931534 L19.25,22 L4.75,22 C4.33578644,22 4,21.6642136 4,21.25 C4,20.8703042 4.28215388,20.556509 4.64822944,20.5068466 L4.75,20.5 L19.25,20.5 L4.75,20.5 Z M16.25,3 C18.3210678,3 20,4.67893219 20,6.75 L20,15.25 C20,17.3210678 18.3210678,19 16.25,19 L7.75,19 C5.67893219,19 4,17.3210678 4,15.25 L4,6.75 C4,4.67893219 5.67893219,3 7.75,3 L16.25,3 Z" id="ðŸŽ¨-Color"> </path> </g> </g> </g>
                  </svg>
                </div>
                <div class="user-biography-text">
                  <samp>{{ user.title }}</samp>
                </div>
              </div>
              <div class="uset-for" *ngIf="user.phoneNumber">
                <div class="user-svg">
                  <svg width="19px" height="19px" viewBox="0 -0.5 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ffffff">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"/>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>
                    <g id="SVGRepo_iconCarrier"> <title>url [#fffff]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-299.000000, -600.000000)" fill="#fff"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M246.400111,448.948654 C244.519883,447.158547 244.754644,444.106996 247.102248,442.631229 C248.809889,441.557573 251.103895,441.880078 252.551048,443.257869 L253.222099,443.896756 C253.641237,444.295804 254.319791,444.295804 254.737858,443.896756 C255.156996,443.498727 255.156996,442.852696 254.737858,442.453648 L254.170788,441.913758 C251.680612,439.542937 247.589992,439.302079 245.025851,441.600438 C242.372737,443.979423 242.32557,447.956645 244.884352,450.391762 L245.642231,451.113316 C246.060298,451.512365 246.739924,451.512365 247.15799,451.113316 C247.577129,450.715288 247.577129,450.069257 247.15799,449.670208 L246.400111,448.948654 Z M261.976841,449.345662 L261.430138,448.825163 C261.011,448.426114 260.332446,448.426114 259.914379,448.825163 C259.495241,449.223192 259.495241,449.869222 259.914379,450.268271 L260.585429,450.907158 C262.032583,452.284948 262.370252,454.469002 261.243616,456.094794 C259.693554,458.329877 256.487306,458.552364 254.60815,456.763278 L253.850271,456.041724 C253.431132,455.642675 252.752578,455.642675 252.334511,456.041724 C251.915373,456.439752 251.915373,457.085783 252.334511,457.484832 L253.092391,458.206386 C255.643669,460.63538 259.806111,460.597618 262.305934,458.09106 C264.742511,455.648799 264.478808,451.727709 261.976841,449.345662 L261.976841,449.345662 Z M257.639668,455.32017 L247.91587,446.062438 C247.497803,445.663389 247.497803,445.017358 247.91587,444.61831 C248.335008,444.220281 249.013562,444.220281 249.431629,444.61831 L259.156499,453.876041 C259.574566,454.27509 259.574566,454.921121 259.156499,455.32017 C258.737361,455.718198 258.058807,455.718198 257.639668,455.32017 L257.639668,455.32017 Z" id="url-[#fffff]"> </path> </g> </g> </g> </g>
                  </svg>
                </div>
                <div class="user-biography-text">
                  <samp>{{ user.phoneNumber }}</samp>
                </div>
              </div>
            </div>
              <div class="user-tracking">
                <a class="user-followers" (click)="openUsersArray(2)">
                  <samp>{{ user.followersAmount || 0 }}</samp>
                  <samp>Followers</samp>
                </a>
                <a class="user-following" (click)="openUsersArray(1)">
                  <samp>{{ user.subscribersAmount || 0 }}</samp>
                  <samp>Subscriber</samp>
                </a>
              </div>
              <app-users-know [user]="user" [type]="arrayType" [YouUserName]="YourUserName" *ngIf="isUsersArray" (closed)="closeUsersArray()"/>
          </div>
        </ng-container>
        <ng-template #noUser>
          <div class="user-not-found">
            <h2>This account doesnâ€™t exist</h2>
            <p>Try searching for another.</p>
          </div>
        </ng-template>
      </ng-template>

      <div class="profile-posts">
        <app-post-component
          class="posts"
          [type]="'post'"
          [posts]="posts"
          [loading]="loadingPosts"
        />
      </div>
    </div>

    <app-border-main />
  </div>

</div>
